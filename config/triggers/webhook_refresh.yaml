# Webhook Trigger Configuration
trigger:
  name: webhook_data_refresh
  description: "Webhook trigger for external systems to trigger data refresh"
  type: webhook
  enabled: true

  # Job to execute
  job: all_pipelines_job.yaml

  # Webhook configuration
  webhook:
    path: /webhooks/data-refresh
    methods:
      - POST
      - PUT
    authentication:
      type: token
      secret_key: webhook_token_secret_key
      header_name: X-Webhook-Token
    payload_mapping:
      source: parameters.source_name
      batch_id: parameters.batch_id
      force_full_refresh: parameters.force_refresh

  # Default parameters (can be overridden by webhook payload)
  parameters:
    triggered_by: "webhook"

  # Tags for organization
  tags:
    - webhook
    - external
    - api
