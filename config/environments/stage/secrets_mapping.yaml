# Secrets Mapping Configuration (Staging)
environment: stage

secrets:
  YOUTUBE_API_KEY_STAGE:
    github_secret: "YOUTUBE_API_KEY_STAGE"
    description: "YouTube Data API v3 key for staging"
    required: true

  DATABRICKS_TOKEN_STAGE:
    github_secret: "DATABRICKS_TOKEN_STAGE"
    description: "Databricks personal access token for stage workspace"
    required: true

  DATABRICKS_HOST_STAGE:
    github_secret: "DATABRICKS_HOST_STAGE"
    description: "Databricks workspace hostname for stage"
    required: true

  DATABRICKS_HTTP_PATH_STAGE:
    github_secret: "DATABRICKS_HTTP_PATH_STAGE"
    description: "Databricks SQL warehouse HTTP path for stage"
    required: true

  POSTGRES_PASSWORD_STAGE:
    github_secret: "POSTGRES_PASSWORD_STAGE"
    description: "PostgreSQL password for stage database"
    required: false

validation:
  required_secrets:
    [
      "YOUTUBE_API_KEY_STAGE",
      "DATABRICKS_TOKEN_STAGE",
      "DATABRICKS_HOST_STAGE",
      "DATABRICKS_HTTP_PATH_STAGE",
    ]

  patterns:
    YOUTUBE_API_KEY_STAGE: "^AIza[0-9A-Za-z-_]{35}$"
    DATABRICKS_TOKEN_STAGE: "^dapi[a-f0-9]{32}$"
